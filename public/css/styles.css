*{box-sizing:border-box;margin:0;padding:0}
html{font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:#f6f6fb;color:#111;scroll-behavior:smooth}
html.dark{background:#0b0b10;color:#f5f5f7}
html:not(.dark){background:#f6f6fb;color:#111}
body.app{min-height:100vh;display:flex;flex-direction:column}
a{text-decoration:none;color:inherit;transition:color .2s ease}
img{max-width:100%;display:block}
.icon{width:16px;height:16px;display:inline-block;vertical-align:-2px;fill:currentColor;stroke:currentColor}
.nav .icon,.btn .icon{margin-right:6px}
.reaction-btn .icon,.reaction-count .icon{margin-right:4px}
.container{width:min(1200px,92vw);margin:0 auto;padding:96px 0 24px;animation:page-fade .5s ease}
.topbar{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:16px 24px;position:fixed;top:0;left:0;right:0;background:rgba(10,10,16,.9);backdrop-filter:blur(8px);z-index:100;border-bottom:1px solid rgba(255,255,255,.06);transition:transform .2s ease,background .3s ease,box-shadow .3s ease}
.topbar:hover{box-shadow:0 10px 30px rgba(0,0,0,.2)}
.topbar.topbar-hidden{transform:translateY(-110%)}
html:not(.dark) .topbar{background:rgba(255,255,255,.9);border-bottom:1px solid rgba(0,0,0,.05)}
.logo a{font-weight:800;font-size:22px;letter-spacing:.5px}
.logo span{color:#a855f7;display:inline-block;animation:logo-glow 3s ease-in-out infinite}
.searchbar{flex:1}
.searchbar input{width:100%;padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.1);background:#111827;color:#fff}
html:not(.dark) .searchbar input{background:#fff;color:#111;border:1px solid rgba(0,0,0,.1)}
.nav{display:flex;gap:12px;flex-wrap:wrap}
.nav a{padding:6px 10px;border-radius:999px;background:rgba(168,85,247,.12);color:#c9a6ff;font-size:13px;transition:transform .2s ease,background .2s ease,box-shadow .2s ease}
.nav a:hover{background:rgba(168,85,247,.3);transform:translateY(-1px)}
html:not(.dark) .nav a{color:#6d28d9}
.user-actions{display:flex;gap:8px;align-items:center}
.user-badge{display:flex;gap:8px;align-items:center}
.user-name{display:flex;gap:8px;align-items:center;font-size:18px}
.checkmark{width:20px;height:20px}
.user-avatar{width:24px;height:24px;border-radius:50%;object-fit:cover;border:1px solid rgba(255,255,255,.1);background:#0f172a}
html:not(.dark) .user-avatar{border:1px solid rgba(0,0,0,.1);background:#fff}
.nav-posts{padding:8px 14px;font-size:14px}
.btn{padding:8px 12px;border-radius:10px;background:#1f2937;color:#fff;border:none;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,background .2s ease}
.btn.small{padding:6px 10px;border-radius:8px;font-size:12px}
.btn#themeToggle{padding:8px 10px;border-radius:999px;min-width:36px}
.btn.back-home{padding:8px 10px;border-radius:999px;min-width:36px;text-align:center}
.btn#themeToggle:focus-visible{outline:2px solid #a855f7;outline-offset:2px}
.btn.primary{background:#a855f7}
.btn.danger{background:#ef4444}
.btn:hover{transform:translateY(-1px);box-shadow:0 8px 24px rgba(0,0,0,.25)}
html:not(.dark) .btn{background:#f1f5f9;color:#111;border:1px solid rgba(0,0,0,.08)}
html:not(.dark) .btn.primary{background:#a855f7;color:#fff;border:none}
html:not(.dark) .btn.danger{background:#ef4444;color:#fff;border:none}
.hero{margin:16px 0;animation:fade-up .6s ease}
.slider{display:flex;overflow:hidden;border-radius:20px;min-height:220px;position:relative}
.slide{min-width:100%;display:flex;align-items:flex-end;background-size:cover;background-position:center;transition:transform .6s ease;animation:slide-fade 1s ease}
.slide-caption{background:linear-gradient(transparent,rgba(0,0,0,.7));padding:24px;color:#fff;width:100%}
.section{margin:28px 0;animation:fade-up .7s ease}
.section h3{margin-bottom:12px;font-size:20px}
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}
.card{background:#111827;border-radius:16px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease;border:1px solid rgba(255,255,255,.06)}
html:not(.dark) .card{background:#fff;border:1px solid rgba(0,0,0,.08)}
.card:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(0,0,0,.3)}
.card-body{padding:10px}
.verify-card{display:flex;flex-direction:column;gap:10px}
.verify-row{display:flex;gap:8px;align-items:center}
.avatar{width:64px;height:64px;border-radius:50%;object-fit:cover;border:1px solid rgba(255,255,255,.1);background:#0f172a}
html:not(.dark) .avatar{border:1px solid rgba(0,0,0,.1);background:#fff}
.profile-card{overflow:hidden}
.profile-head{display:flex;gap:14px;align-items:center}
.profile-info{display:flex;flex-direction:column;gap:8px}
.profile-name{display:flex;gap:8px;align-items:center;font-size:18px}
.profile-bio{opacity:.9;line-height:1.4}
.profile-meta{display:flex;flex-wrap:wrap;gap:10px;font-size:13px;opacity:.8}
.profile-actions{display:flex;gap:8px;flex-wrap:wrap}
.preview-avatar{margin-top:10px}
.profile-tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.tab-btn{padding:8px 12px;border-radius:10px;background:#111827;color:#fff;border:1px solid rgba(255,255,255,.1);cursor:pointer}
.tab-btn.active{background:#a855f7;border-color:transparent}
.tab-panel{display:none}
.tab-panel.active{display:block}
.tab-panel .forum-post{margin-bottom:10px}
.list{display:flex;flex-direction:column;gap:8px}
.list-item{padding:8px 10px;border-radius:10px;background:#111827;border:1px solid rgba(255,255,255,.06);display:flex;align-items:center;gap:8px}
html:not(.dark) .list-item{background:#fff;border:1px solid rgba(0,0,0,.08)}
.tags{display:flex;gap:6px;flex-wrap:wrap}
.tag{background:rgba(168,85,247,.2);color:#d2b0ff;padding:2px 8px;border-radius:999px;font-size:11px}
html:not(.dark) .tag{background:rgba(168,85,247,.15);color:#6d28d9}
.episode-row{display:flex;gap:12px;overflow:auto;padding-bottom:6px}
.episode-pill{display:flex;gap:10px;align-items:center;background:#111827;border-radius:14px;padding:8px 12px;min-width:220px;border:1px solid rgba(255,255,255,.06);transition:transform .2s ease,box-shadow .2s ease}
.episode-pill:hover{transform:translateY(-2px)}
html:not(.dark) .episode-pill{background:#fff;border:1px solid rgba(0,0,0,.08)}
.anime-hero{display:grid;grid-template-columns:220px 1fr;gap:20px;align-items:start}
.anime-hero .cover{border-radius:18px;border:1px solid rgba(255,255,255,.08)}
html:not(.dark) .anime-hero .cover{border:1px solid rgba(0,0,0,.08)}
.anime-hero .meta{display:flex;flex-direction:column;gap:10px}
.desc{margin:12px 0;color:#cbd5e1}
html:not(.dark) .desc{color:#475569}
.anime-actions{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.reaction{display:flex;align-items:center;gap:8px}
.like-btn.active{background:#f59e0b;color:#111;border:none}
.like-count{padding:6px 10px;border-radius:999px;background:#111827;border:1px solid rgba(255,255,255,.06);font-weight:700}
html:not(.dark) .like-count{background:#fff;border:1px solid rgba(0,0,0,.08)}
html:not(.dark) .like-btn.active{background:#f59e0b;color:#111;border:none}
.episodes-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
.episode-card{display:flex;flex-direction:column;gap:6px;padding:12px;border-radius:14px;background:#111827;border:1px solid rgba(255,255,255,.06);transition:transform .2s ease,box-shadow .2s ease}
.episode-card:hover{transform:translateY(-2px);box-shadow:0 10px 24px rgba(0,0,0,.25)}
.episode-number{font-size:12px;opacity:.7}
.episode-title{font-weight:700}
.episode-action{margin-top:auto;font-size:12px;opacity:.8}
html:not(.dark) .episode-card{background:#fff;border:1px solid rgba(0,0,0,.08)}
.episodes-list{display:flex;flex-direction:column;gap:8px}
.episode-item{padding:10px 12px;background:#111827;border-radius:12px;border:1px solid rgba(255,255,255,.06)}
html:not(.dark) .episode-item{background:#fff;border:1px solid rgba(0,0,0,.08)}
.comment-form textarea{width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#0f172a;color:#fff;margin:8px 0}
html:not(.dark) .comment-form textarea{background:#fff;color:#111;border:1px solid rgba(0,0,0,.1)}
.comment-edit{display:none;flex-direction:column;gap:6px;margin-top:6px}
.comment-edit.active{display:flex}
.comment-edit textarea{width:100%;padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:#0f172a;color:#fff}
html:not(.dark) .comment-edit textarea{background:#fff;color:#111;border:1px solid rgba(0,0,0,.1)}
.comments{display:flex;flex-direction:column;gap:10px;margin-top:10px}
.comment{padding:10px 12px;background:#111827;border-radius:12px;border:1px solid rgba(255,255,255,.06);display:flex;gap:10px;transition:transform .2s ease,box-shadow .2s ease}
.comment-avatar{width:36px;height:36px;border-radius:50%;object-fit:cover;border:1px solid rgba(255,255,255,.1);background:#0f172a}
.comment-content{flex:1;display:flex;flex-direction:column;gap:6px}
.comment:hover{transform:translateY(-1px);box-shadow:0 8px 18px rgba(0,0,0,.2)}
.comment span{opacity:.7;font-size:12px}
html:not(.dark) .comment{background:#fff;border:1px solid rgba(0,0,0,.08)}
html:not(.dark) .comment span{color:#64748b;opacity:1}
.comment-head{display:flex;align-items:center;justify-content:space-between;gap:10px}
.comment-menu{position:relative}
.comment-menu-btn{background:#111827;border:1px solid rgba(255,255,255,.1);color:#fff;border-radius:8px;width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer}
.comment-menu-list{position:absolute;right:0;top:32px;min-width:160px;background:#0f172a;border:1px solid rgba(255,255,255,.1);border-radius:10px;display:none;flex-direction:column;padding:6px;gap:4px;z-index:5}
.comment-menu.open .comment-menu-list{display:flex}
.comment-menu-item{background:transparent;border:none;color:#e2e8f0;padding:6px 8px;text-align:left;border-radius:8px;cursor:pointer}
.comment-menu-item:hover{background:rgba(255,255,255,.06)}
.comment-menu-item.danger{color:#fecaca}
.comment-menu-form{margin:0}
.comment-menu-form .comment-menu-item{width:100%}
.comment-menu-btn:focus-visible{outline:2px solid #a855f7;outline-offset:2px}
.reply-tag{font-size:12px;color:#a855f7}
.reply-target{display:none;gap:8px;align-items:center;font-size:12px;color:#a855f7}
.reply-target.active{display:flex}
.reply-cancel{background:transparent;border:none;color:#94a3b8;cursor:pointer;font-size:12px}
html:not(.dark) .comment-menu-btn{background:#fff;color:#111;border:1px solid rgba(0,0,0,.1)}
html:not(.dark) .comment-menu-list{background:#fff;border:1px solid rgba(0,0,0,.1)}
html:not(.dark) .comment-menu-item{color:#111}
html:not(.dark) .comment-menu-item:hover{background:#f1f5f9}
html:not(.dark) .comment-menu-item.danger{color:#b91c1c}
.auth{max-width:420px;margin:0 auto;position:relative;padding-top:8px;animation:auth-fade .6s ease}
.auth-back{position:absolute;right:-6px;top:-6px;transition:transform .2s ease,box-shadow .2s ease}
.auth-back:hover{transform:translateY(-1px) scale(1.03)}
.auth h2{animation:auth-slide .7s ease}
.auth-form{display:flex;flex-direction:column;gap:10px;animation:auth-rise .7s ease}
.auth-form input,.auth-form textarea,.form input,.form textarea{padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.1);background:#0f172a;color:#fff;transition:transform .2s ease,border-color .2s ease,box-shadow .2s ease}
.auth-form input:focus,.auth-form textarea:focus{transform:translateY(-1px);box-shadow:0 6px 18px rgba(0,0,0,.2);border-color:rgba(168,85,247,.5)}
.auth-form button{transition:transform .2s ease,box-shadow .2s ease}
.auth-form button:hover{transform:translateY(-2px)}
.auth p{animation:auth-fade .8s ease}
.auth a{transition:color .2s ease,transform .2s ease}
.auth a:hover{transform:translateY(-1px)}
.error,.error-list{animation:auth-pop .4s ease}
html:not(.dark) .auth-form input,html:not(.dark) .auth-form textarea,html:not(.dark) .form input,html:not(.dark) .form textarea{background:#fff;color:#111;border:1px solid rgba(0,0,0,.1)}
.form{display:flex;flex-direction:column;gap:10px}
.hint{opacity:.7;font-size:12px}
.forum-list{display:flex;flex-direction:column;gap:12px}
.forum-post{overflow:hidden}
.forum-head{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:8px}
.forum-video{width:100%;border-radius:12px;margin-top:10px}
.post-reactions{display:flex;gap:8px;align-items:center;margin-top:10px}
.post-comments{margin-top:12px}
.reaction-btn{padding:6px 10px;border-radius:10px;background:#0f172a;color:#fff;border:1px solid rgba(255,255,255,.1);cursor:pointer;display:flex;gap:6px;align-items:center}
.reaction-btn.active{background:#a855f7}
.reaction-count{opacity:.8;font-size:13px}
html:not(.dark) .reaction-btn{background:#f1f5f9;color:#111;border:1px solid rgba(0,0,0,.1)}
.watch-head{display:flex;gap:12px;align-items:center;margin-bottom:12px}
.watch .player-container{background:#0b0f1a;border-radius:16px;padding:12px;border:1px solid rgba(255,255,255,.08);position:relative;animation:fade-up .7s ease}
html:not(.dark) .watch .player-container{background:#f8fafc;border:1px solid rgba(0,0,0,.08)}
.player-container video{width:100%;border-radius:12px}
.seek-toast{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:10px 16px;border-radius:999px;background:rgba(0,0,0,.65);color:#fff;font-weight:700;opacity:0;pointer-events:none;transition:opacity .2s}
.seek-toast.show{opacity:1}
.controls{display:flex;gap:12px;align-items:center;margin-top:10px}
.footer{margin-top:auto;padding:18px;text-align:center;opacity:.7}
html:not(.dark) .footer{opacity:.9}
.footer-link{color:#60a5fa}
.footer-link:hover{color:#93c5fd}
.chat-list{display:flex;flex-direction:column;gap:10px}
.chat-row{display:flex;gap:12px;align-items:center;padding:10px;border-radius:12px;background:#111827;border:1px solid rgba(255,255,255,.06)}
html:not(.dark) .chat-row{background:#fff;border:1px solid rgba(0,0,0,.08)}
.chat-info{display:flex;flex-direction:column;gap:4px}
.chat-info span{opacity:.75;font-size:13px}
.chat-head{display:flex;gap:12px;align-items:center;margin-bottom:12px}
.chat-user{display:flex;gap:10px;align-items:center}
.chat-back{margin-right:8px}
.avatar-placeholder{display:flex;align-items:center;justify-content:center;font-weight:700;background:#1f2937;color:#fff}
html:not(.dark) .avatar-placeholder{background:#e2e8f0;color:#111}
.chat-messages{display:flex;flex-direction:column;gap:10px;margin:12px 0;max-height:60vh;overflow-y:auto;padding-right:4px}
.chat-msg{display:flex}
.chat-msg.me{justify-content:flex-end}
.chat-bubble{max-width:70%;padding:10px 12px;border-radius:12px;background:#fff;border:1px solid rgba(0,0,0,.08);color:#111}
.chat-msg.them .chat-bubble{background:#fff}
.chat-bubble span{display:block;font-size:11px;opacity:.7;margin-top:4px;color:#64748b}
.chat-form{display:flex;gap:8px;align-items:center}
.chat-form input{flex:1;padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:#0f172a;color:#fff}
.chat-form input:focus{outline:2px solid rgba(168,85,247,.5);outline-offset:2px}
html:not(.dark) .chat-form input{background:#fff;color:#111;border:1px solid rgba(0,0,0,.12)}
.history-list{display:flex;flex-direction:column;gap:8px}
.history-item{padding:10px 12px;background:#111827;border-radius:12px;border:1px solid rgba(255,255,255,.06);display:flex;gap:12px;align-items:center;justify-content:space-between;transition:transform .2s ease,box-shadow .2s ease}
.history-item:hover{transform:translateY(-1px);box-shadow:0 8px 18px rgba(0,0,0,.2)}
html:not(.dark) .history-item{background:#fff;border:1px solid rgba(0,0,0,.08)}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
.stat-card{padding:12px;border-radius:12px;background:#111827;border:1px solid rgba(255,255,255,.06);display:flex;flex-direction:column;gap:6px;transition:transform .2s ease,box-shadow .2s ease}
.stat-card:hover{transform:translateY(-1px);box-shadow:0 8px 18px rgba(0,0,0,.2)}
html:not(.dark) .stat-card{background:#fff;border:1px solid rgba(0,0,0,.08)}
.admin-actions{margin:10px 0}
.table{display:flex;flex-direction:column;gap:8px}
.inline-actions{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.row{display:grid;grid-template-columns:2fr 2fr 1fr 1fr;gap:8px;padding:10px;border-radius:12px;background:#111827;border:1px solid rgba(255,255,255,.06);transition:transform .2s ease,box-shadow .2s ease}
.row:hover{transform:translateY(-1px);box-shadow:0 8px 18px rgba(0,0,0,.2)}
.row.head{background:#1f2937;font-weight:700}
html:not(.dark) .row{background:#fff;border:1px solid rgba(0,0,0,.08)}
html:not(.dark) .row.head{background:#f1f5f9}
.admin-episode{display:flex;align-items:center;justify-content:space-between}
.error{color:#f87171}
.error-list{margin-bottom:10px}
@keyframes auth-fade{from{opacity:0}to{opacity:1}}
@keyframes auth-slide{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}
@keyframes auth-rise{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@keyframes auth-pop{from{opacity:0;transform:scale(.98)}to{opacity:1;transform:scale(1)}}
@keyframes page-fade{from{opacity:0}to{opacity:1}}
@keyframes fade-up{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@keyframes slide-fade{from{opacity:0}to{opacity:1}}
@keyframes logo-glow{0%{text-shadow:0 0 0 rgba(168,85,247,.0)}50%{text-shadow:0 0 12px rgba(168,85,247,.6)}100%{text-shadow:0 0 0 rgba(168,85,247,.0)}}
@media (max-width:900px){
  .topbar{flex-wrap:wrap}
  .nav{order:3;width:100%}
  .searchbar{order:2;width:100%}
  .anime-hero{grid-template-columns:1fr}
  .row{grid-template-columns:1fr;gap:4px}
  .controls{flex-direction:column;align-items:flex-start}
}
