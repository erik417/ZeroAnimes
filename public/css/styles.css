*{box-sizing:border-box;margin:0;padding:0}
html{font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:#f6f6fb;color:#111}
html.dark{background:#0b0b10;color:#f5f5f7}
html:not(.dark){background:#f6f6fb;color:#111}
body.app{min-height:100vh;display:flex;flex-direction:column}
a{text-decoration:none;color:inherit}
img{max-width:100%;display:block}
.container{width:min(1200px,92vw);margin:0 auto;padding:96px 0 24px}
.topbar{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:16px 24px;position:fixed;top:0;left:0;right:0;background:rgba(10,10,16,.9);backdrop-filter:blur(8px);z-index:100;border-bottom:1px solid rgba(255,255,255,.06)}
html:not(.dark) .topbar{background:rgba(255,255,255,.9);border-bottom:1px solid rgba(0,0,0,.05)}
.logo a{font-weight:800;font-size:22px;letter-spacing:.5px}
.logo span{color:#a855f7}
.searchbar{flex:1}
.searchbar input{width:100%;padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.1);background:#111827;color:#fff}
html:not(.dark) .searchbar input{background:#fff;color:#111;border:1px solid rgba(0,0,0,.1)}
.nav{display:flex;gap:12px;flex-wrap:wrap}
.nav a{padding:6px 10px;border-radius:999px;background:rgba(168,85,247,.12);color:#c9a6ff;font-size:13px;transition:.2s}
.nav a:hover{background:rgba(168,85,247,.3);transform:translateY(-1px)}
html:not(.dark) .nav a{color:#6d28d9}
.user-actions{display:flex;gap:8px;align-items:center}
.btn{padding:8px 12px;border-radius:10px;background:#1f2937;color:#fff;border:none;cursor:pointer;transition:.2s}
.btn#themeToggle{padding:8px 10px;border-radius:999px;min-width:36px}
.btn.back-home{padding:8px 10px;border-radius:999px;min-width:36px;text-align:center}
.btn#themeToggle:focus-visible{outline:2px solid #a855f7;outline-offset:2px}
.btn.primary{background:#a855f7}
.btn.danger{background:#ef4444}
.btn:hover{transform:translateY(-1px);box-shadow:0 8px 24px rgba(0,0,0,.25)}
html:not(.dark) .btn{background:#f1f5f9;color:#111;border:1px solid rgba(0,0,0,.08)}
html:not(.dark) .btn.primary{background:#a855f7;color:#fff;border:none}
html:not(.dark) .btn.danger{background:#ef4444;color:#fff;border:none}
.hero{margin:16px 0}
.slider{display:flex;overflow:hidden;border-radius:20px;min-height:220px;position:relative}
.slide{min-width:100%;display:flex;align-items:flex-end;background-size:cover;background-position:center;transition:transform .6s ease}
.slide-caption{background:linear-gradient(transparent,rgba(0,0,0,.7));padding:24px;color:#fff;width:100%}
.section{margin:28px 0}
.section h3{margin-bottom:12px;font-size:20px}
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}
.card{background:#111827;border-radius:16px;overflow:hidden;transition:.2s;border:1px solid rgba(255,255,255,.06)}
html:not(.dark) .card{background:#fff;border:1px solid rgba(0,0,0,.08)}
.card:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(0,0,0,.3)}
.card-body{padding:10px}
.tags{display:flex;gap:6px;flex-wrap:wrap}
.tag{background:rgba(168,85,247,.2);color:#d2b0ff;padding:2px 8px;border-radius:999px;font-size:11px}
html:not(.dark) .tag{background:rgba(168,85,247,.15);color:#6d28d9}
.episode-row{display:flex;gap:12px;overflow:auto;padding-bottom:6px}
.episode-pill{display:flex;gap:10px;align-items:center;background:#111827;border-radius:14px;padding:8px 12px;min-width:220px;border:1px solid rgba(255,255,255,.06);transition:.2s}
.episode-pill:hover{transform:translateY(-2px)}
html:not(.dark) .episode-pill{background:#fff;border:1px solid rgba(0,0,0,.08)}
.anime-hero{display:grid;grid-template-columns:220px 1fr;gap:20px;align-items:start}
.anime-hero .cover{border-radius:18px;border:1px solid rgba(255,255,255,.08)}
html:not(.dark) .anime-hero .cover{border:1px solid rgba(0,0,0,.08)}
.anime-hero .meta{display:flex;flex-direction:column;gap:10px}
.desc{margin:12px 0;color:#cbd5e1}
html:not(.dark) .desc{color:#475569}
.anime-actions{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.reaction{display:flex;align-items:center;gap:8px}
.like-btn.active{background:#f59e0b;color:#111;border:none}
.like-count{padding:6px 10px;border-radius:999px;background:#111827;border:1px solid rgba(255,255,255,.06);font-weight:700}
html:not(.dark) .like-count{background:#fff;border:1px solid rgba(0,0,0,.08)}
html:not(.dark) .like-btn.active{background:#f59e0b;color:#111;border:none}
.episodes-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
.episode-card{display:flex;flex-direction:column;gap:6px;padding:12px;border-radius:14px;background:#111827;border:1px solid rgba(255,255,255,.06);transition:.2s}
.episode-card:hover{transform:translateY(-2px);box-shadow:0 10px 24px rgba(0,0,0,.25)}
.episode-number{font-size:12px;opacity:.7}
.episode-title{font-weight:700}
.episode-action{margin-top:auto;font-size:12px;opacity:.8}
html:not(.dark) .episode-card{background:#fff;border:1px solid rgba(0,0,0,.08)}
.episodes-list{display:flex;flex-direction:column;gap:8px}
.episode-item{padding:10px 12px;background:#111827;border-radius:12px;border:1px solid rgba(255,255,255,.06)}
html:not(.dark) .episode-item{background:#fff;border:1px solid rgba(0,0,0,.08)}
.comment-form textarea{width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#0f172a;color:#fff;margin:8px 0}
html:not(.dark) .comment-form textarea{background:#fff;color:#111;border:1px solid rgba(0,0,0,.1)}
.comments{display:flex;flex-direction:column;gap:10px;margin-top:10px}
.comment{padding:10px 12px;background:#111827;border-radius:12px;border:1px solid rgba(255,255,255,.06);display:flex;flex-direction:column;gap:6px}
.comment span{opacity:.7;font-size:12px}
html:not(.dark) .comment{background:#fff;border:1px solid rgba(0,0,0,.08)}
html:not(.dark) .comment span{color:#64748b;opacity:1}
.auth{max-width:420px;margin:0 auto}
.auth-form{display:flex;flex-direction:column;gap:10px}
.auth-form input,.auth-form textarea,.form input,.form textarea{padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.1);background:#0f172a;color:#fff}
html:not(.dark) .auth-form input,html:not(.dark) .auth-form textarea,html:not(.dark) .form input,html:not(.dark) .form textarea{background:#fff;color:#111;border:1px solid rgba(0,0,0,.1)}
.form{display:flex;flex-direction:column;gap:10px}
.watch-head{display:flex;gap:12px;align-items:center;margin-bottom:12px}
.watch .player-container{background:#0b0f1a;border-radius:16px;padding:12px;border:1px solid rgba(255,255,255,.08);position:relative}
html:not(.dark) .watch .player-container{background:#f8fafc;border:1px solid rgba(0,0,0,.08)}
.player-container video{width:100%;border-radius:12px}
.seek-toast{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:10px 16px;border-radius:999px;background:rgba(0,0,0,.65);color:#fff;font-weight:700;opacity:0;pointer-events:none;transition:opacity .2s}
.seek-toast.show{opacity:1}
.controls{display:flex;gap:12px;align-items:center;margin-top:10px}
.footer{margin-top:auto;padding:18px;text-align:center;opacity:.7}
html:not(.dark) .footer{opacity:.9}
.history-list{display:flex;flex-direction:column;gap:8px}
.history-item{padding:10px 12px;background:#111827;border-radius:12px;border:1px solid rgba(255,255,255,.06);display:flex;gap:12px;align-items:center;justify-content:space-between}
html:not(.dark) .history-item{background:#fff;border:1px solid rgba(0,0,0,.08)}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
.stat-card{padding:12px;border-radius:12px;background:#111827;border:1px solid rgba(255,255,255,.06);display:flex;flex-direction:column;gap:6px}
html:not(.dark) .stat-card{background:#fff;border:1px solid rgba(0,0,0,.08)}
.admin-actions{margin:10px 0}
.table{display:flex;flex-direction:column;gap:8px}
.row{display:grid;grid-template-columns:2fr 2fr 1fr 1fr;gap:8px;padding:10px;border-radius:12px;background:#111827;border:1px solid rgba(255,255,255,.06)}
.row.head{background:#1f2937;font-weight:700}
html:not(.dark) .row{background:#fff;border:1px solid rgba(0,0,0,.08)}
html:not(.dark) .row.head{background:#f1f5f9}
.admin-episode{display:flex;align-items:center;justify-content:space-between}
.error{color:#f87171}
.error-list{margin-bottom:10px}
@media (max-width:900px){
  .topbar{flex-wrap:wrap}
  .nav{order:3;width:100%}
  .searchbar{order:2;width:100%}
  .anime-hero{grid-template-columns:1fr}
  .row{grid-template-columns:1fr;gap:4px}
  .controls{flex-direction:column;align-items:flex-start}
}
